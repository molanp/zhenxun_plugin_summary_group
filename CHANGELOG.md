# 更新日志 (Changelog)

本文档记录了群聊总结插件 (summary_group) 的所有重要变更。

## [2.0.0]

### 新增功能
- 添加多 AI 模型支持，允许在不同模型之间切换
  - 新增 `总结模型列表` 命令，查看所有可用的 AI 模型
  - 新增 `总结切换模型 <Provider/Model>` 命令，切换全局默认使用的 AI 模型
  - 新增 `/总结配置 模型 列表` 子命令，查看所有可用的 AI 模型
  - 新增 `/总结配置 模型 切换 <Provider/Model>` 子命令，切换全局默认使用的 AI 模型
  - 新增 `/总结配置 模型 设置 <Provider/Model> [-g 群号]` 子命令，设置群聊特定的 AI 模型
  - 新增 `/总结配置 模型 移除 [-g 群号]` 子命令，移除群聊特定的 AI 模型设置
- 添加分群模型配置功能，允许不同群聊使用不同的 AI 模型
- 添加分群风格配置功能，允许设置群聊默认的总结风格
  - 新增 `/总结配置 风格 设置 <风格名称> [-g 群号]` 子命令，设置群聊默认的总结风格
  - 新增 `/总结配置 风格 移除 [-g 群号]` 子命令，移除群聊默认的总结风格设置

### 优化改进
- 重构模型配置结构，使用 `SUMMARY_PROVIDERS` 按提供商分组管理模型
- 优化模型参数继承机制，支持在模型级别覆盖提供商级别的参数
- 提升模型相关设置的权限至 Superuser 级别
- 优化总结帮助文档，添加更详细的命令说明和示例
- 优化错误处理和日志记录，提供更清晰的错误信息
- 优化配置系统，统一使用 `Config.get('summary_group')` 获取配置项

### 修复问题
- 修复 `messages_summary()` 函数参数不匹配的问题
- 修复 Alconna 子命令结果处理的问题
- 修复 `SUMMARY_MAX_LENGTH` 验证逻辑的问题
- 修复风格设置需要 Bot 重启才能生效的问题
- 修复图片生成相关的问题

## [1.0.0]

### 初始功能
- 基本的群聊总结功能
  - 支持指定消息数量进行总结
  - 支持指定总结风格
  - 支持指定用户进行总结
  - 支持指定关键词进行总结
- 定时总结功能
  - 支持设置定时总结任务
  - 支持取消定时总结任务
  - 支持查看定时总结任务状态
- 系统管理功能
  - 支持健康检查
  - 支持系统修复
- 支持图片和文本两种输出方式
- 支持冷却时间限制
- 支持权限控制
